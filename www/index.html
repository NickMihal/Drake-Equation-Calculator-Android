<!DOCTYPE html>
<html>
   <div style="display: grid; place-items: center;">
   <title> Drake Equation Calculator </title> 
   <h2> Drake Equation Calculator </h2>
   <head>
      <meta name="description" content="Drake Equation Calculator">
      <meta name="author" content="NickMihal">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script>
        $(document).ready(function(){
    function getRandomNumber(min, max) {
    return Math.random() * (max - min) + min;
    }
    $("#info-button").click(function(){
    $("#info-box").toggle();
    });
    $("#random").click(function(){
    var inputFields = ["R-text", "fp-text", "ne-text", "fl-text", "fi-text", "fc-text", "L-text"];
    for (var i = 0; i < inputFields.length; i++) {
    var inputId = inputFields[i];
    var randomNumber;
    switch(inputId) {
    case "R-text":
    randomNumber = getRandomNumber(1, 20);
    break;
    case "fp-text":
    randomNumber = getRandomNumber(0, 1);
    break;
    case "ne-text":
    randomNumber = getRandomNumber(0, 1);
    break;
    case "fl-text":
    randomNumber = getRandomNumber(0, 1);
    break;
    case "fi-text":
    randomNumber = getRandomNumber(0, 1);
    break;
    case "fc-text":
    randomNumber = getRandomNumber(0, 1);
    break;
    case "L-text":
    randomNumber = getRandomNumber(1, 10000);
    break;
    }
    $("#" + inputId).val(randomNumber);
    $("#" + inputId).prev().val(randomNumber);
    $("#submit").click();
    function getRandomNumber(min, max) {
    if (document.getElementById("decimalSwitch").checked) {
    return (Math.random() * (max - min) + min).toFixed(2);
    } else {
    return (Math.random() * (max - min) + min);
    }
    }
    }
    });
    $("#submit").click(function(){
    var R = $("#R-range").val();
    var fp = $("#fp-range").val();
    var ne = $("#ne-range").val();
    var fl = $("#fl-range").val();
    var fi = $("#fi-range").val();
    var fc = $("#fc-range").val();
    var L = $("#L-range").val();
    // Drake equation calculation
    var N = R * fp * ne * fl * fi * fc * L;
    if(document.getElementById("decimalSwitch").checked) {
    N = N.toFixed(2);
    }
    $("#result").html(N);
    });
    $("input[type='range']").on("input", function(){
    $(this).next().val($(this).val());
    });
    $("input[type='text']").on("input", function(){
    $(this).prev().val($(this).val());
    });
    });
    </script>
    </head>
   <body>
      <form>
         <b>R</b> (rate of star formation in our galaxy)<br />
         <input type="range" id="R-range" min="1" max="20" value="10" /> &nbsp;&nbsp;&nbsp;
         <input type="text" id="R-text" value="10" />
         <br />
         <b>fp</b> (fraction of stars that have planets)<br />
         <input type="range" id="fp-range" min="0" max="1" step="0.01" value="0.1" /> &nbsp;&nbsp;&nbsp;
         <input type="text" id="fp-text" value="0.1" />
         <br />
         <b>ne</b> (fraction of planets that are in the habitable zone)<br />
         <input type="range" id="ne-range" min="0" max="1" step="0.01" value="0.2" /> &nbsp;&nbsp;&nbsp;
         <input type="text" id="ne-text" value="0.2" />
         <br />
         <b>fl</b> (fraction of planets that develop life)<br />
         <input type="range" id="fl-range" min="0" max="1" step="0.01" value="0.01" /> &nbsp;&nbsp;&nbsp;
         <input type="text" id="fl-text" value="0.01" />
         <br />
         <b>fi</b> (fraction of planets that develop intelligent life)<br />
         <input type="range" id="fi-range" min="0" max="1" step="0.01" value="0.001" /> &nbsp;&nbsp;&nbsp;
         <input type="text" id="fi-text" value="0.001" />
         <br />
         <b>fc</b> (fraction of planets that have civilizations that are capable of communicating)<br />
         <input type="range" id="fc-range" min="0" max="1" step="0.01" value="0.0001" /> &nbsp;&nbsp;&nbsp;
         <input type="text" id="fc-text" value="0.0001" />
         <br />
         <b>L</b> (years that civilizations are able to communicate)<br />
         <input type="range" id="L-range" min="1" max="10000" value="1000" /> &nbsp;&nbsp;&nbsp;
         <input type="text" id="L-text" value="1000" />
      </form>
      &nbsp;
         <div class="text-center">
            <input type="button" class="btn btn-primary" id="submit" value="Submit">
            <input type="button" class="btn btn-secondary" id="reset" value="Reset">
            <input type="button" class="btn btn-secondary" id="random" value="Random">
            <label for="decimalSwitch">Decimal Numbers</label>
            <input type="checkbox" id="decimalSwitch">
         </div>
         <script>
           document.getElementById("decimalSwitch").checked = true;

          document.getElementById("random").addEventListener("click", function() {
          // Assign random values to the text boxes
          document.getElementById("R-range").value = getRandomNumber(1,20);
          document.getElementById("fp-range").value = getRandomNumber(0,1);
          document.getElementById("ne-range").value = getRandomNumber(0,1);
          document.getElementById("fl-range").value = getRandomNumber(0,1);
          document.getElementById("fi-range").value = getRandomNumber(0,1);
          document.getElementById("fc-range").value = getRandomNumber(0,1);
          document.getElementById("L-range").value = getRandomNumber(1,10000);
          });
         </script>
      <script>
            var defaultR = 10;
            var defaultfp = 0.1;
            var defaultne = 0.2;
            var defaultfl = 0.01;
            var defaultfi = 0.001;
            var defaultfc = 0.0001;
            var defaultL = 1000;
            
            document.getElementById("R-text").addEventListener("input", function(){
            document.getElementById("R-range").value = this.value;
            });
            
            document.getElementById("fp-range").addEventListener("input", function(){
            document.getElementById("fp-text").value = this.value;
            });
            //same for ne, fl, fi, fc and L
            
            document.getElementById("reset").addEventListener("click", function() {
            // Reset input values
            document.getElementById("R-text").value = defaultR;
            document.getElementById("fp-text").value = defaultfp;
            document.getElementById("ne-text").value = defaultne;
            document.getElementById("fl-text").value = defaultfl;
            document.getElementById("fi-text").value = defaultfi;
            document.getElementById("fc-text").value = defaultfc;
            document.getElementById("L-text").value = defaultL;
            document.getElementById("R-range").value = defaultR;
            document.getElementById("fp-range").value = defaultfp;
            document.getElementById("ne-range").value = defaultne;
            document.getElementById("fl-range").value = defaultfl;
            document.getElementById("fi-range").value = defaultfi;
            document.getElementById("fc-range").value = defaultfc;
            document.getElementById("L-range").value = defaultL;
            // Reset result
            var resultHeading = document.getElementById("result");
                resultHeading.textContent = "Equation Reset";
            ;
            });
                 
      </script>
      &nbsp;
      <h3> Estimated Number of Civilizations in the Milky Way </h3>
      <h2>
         <div id="result"></div>
      </h2>
      &nbsp;
      <button type="button" class="btn btn-secondary" id="info-button">What is the Drake equation?</button> 
      <div id="info-box" style="display: none;">
         <div style="display: grid; place-items: center;">
            <p>The Drake equation is a mathematical formula used to estimate the number of detectable extraterrestrial civilizations in our galaxy. <br>
               The equation was first proposed by astrophysicist Frank Drake in 1961 as a way to organize the various factors that could influence the likelihood of the existence of extraterrestrial life.
            </p>
            <p>It takes into account factors such as the rate of star formation, the fraction of stars with planets, <br>
               the fraction of planets that are in the habitable zone, the fraction of planets that develop life, <br>
               the fraction of planets that develop intelligent life, and the length of time that civilizations are able to communicate.
            </p>
         </div>
      </div>
      <script src="/www/js/index.js"></script>
   </body>
</html>